<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Login</title>
  <link rel="stylesheet" href="../styles/styles/login.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
<link href="https://fonts.googleapis.com/css2?family=Rubik:wght@900&display=swap" rel="stylesheet"/>

</head>
<body>
  <header>
    <div class="navbar">
   <div class="brand-container">
  <img src=https://i.postimg.cc/63bx44WN/car-logo.jpg alt="Logo" />
  <div class="logo-text">carverly</div>

</div>


      </div>
</header>
<main>
    <div class="login-container">
      <h2>LOG IN TO YOUR ACCOUNT</h2>
      <form class="login-form">
        <label for="email">Email</label>
        <input type="email" id="email" placeholder="Enter email" required>

        <label for="password">Password</label>
        <div class="password-wrapper">
          <input type="password" id="password" placeholder="Password" required />
          <i class="fa-solid fa-eye eye-icon" onclick="toggleVisibility('password', this)"></i>
        </div>
        
        

        <div class="checkbox-remember">
          <input type="checkbox" id="remember">
          <label for="remember">Remember me</label>
        </div>

        <button type="submit">Log in</button>

        <div class="forgot">
          <a href="#">Forgot password?</a>
        </div>
      </form>
    </div>
  </main>
  <div class="extra-links">
    <p>Don't have an account? <a href="/driveline/pages/register.html">Register</a></p>
  </div>

  <footer class="custom-footer">
  <div class="footer-content">
    <div class="footer-column">
      <h3>Help Centre</h3>
      <p>Monday to Friday 9.00 - 18.00</p>
      <p>Saturday 9.00 - 17.30</p>
      <p>Sundays and Bank Holidays CLOSED</p>
       <div class="social-icons">
        <i class="fab fa-facebook-f"></i>
        <i class="fab fa-x-twitter"></i>
        <i class="fab fa-instagram"></i>
        <i class="fab fa-youtube"></i>
        <i class="fab fa-tiktok"></i>
      </div>

    </div>

    <div class="footer-column">
      <a href="#">About us</a>
      <a href="#">Contact us</a>
      <a href="#">Authors and experts</a>
      <a href="#">Carverly newsroom</a>
    </div>

    <div class="footer-column">
      <a href="#">Careers</a>
      <a href="#">Dealer & brand partners</a>
    </div>

    <div class="footer-column trustpilot">
      <p>Rated <strong>4.4</strong>/5 from <strong>3,590</strong> reviews</p>
      <p style="font-size: 22px; color: #00B67A; font-weight: bold;">★ Trustcarverly</p>
      <p>⭐⭐⭐⭐⭐</p>
    </div>
  </div>

  <hr>

  <div class="footer-bottom">
    <p>© 2025 Carverly Ltd. All rights reserved</p>
    <div class="footer-links">
      <a href="#">Terms & conditions</a>
      <a href="#">Manage cookies & privacy</a>
      <a href="#">Fraud disclaimer</a>
      <a href="#">ESG Policy</a>
      <a href="#">Privacy policy</a>
      <a href="#">Modern slavery statement</a>
      <a href="#">Accessibility notice</a>
      <a href="#">Sitemap</a>S
    </div>
   <div class="footer-flags">
  <span><i class="fa-solid fa-flag"></i> BD </span>
  <span><i class="fa-solid fa-flag"></i> Germany </span>
  <span><i class="fa-solid fa-flag"></i> Spain </span>
</div>


  </div>
</footer>
<script>
  function toggleVisibility(inputId, icon) {
    const input = document.getElementById(inputId);
    const isPassword = input.type === "password";
    input.type = isPassword ? "text" : "password";
    icon.classList.toggle("fa-eye");
    icon.classList.toggle("fa-eye-slash");
  }
</script>
<script>
document.addEventListener("DOMContentLoaded", function () {
  document.querySelector(".login-form").addEventListener("submit", async function (e) {
    e.preventDefault();

    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value;

    const loginData = {
      email: email,
      password: password
    };

    try {
      const res = await fetch('/driveline/controllers/login.php', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(loginData)
      });

      const data = await res.json();

      if (res.ok) {
        alert("Login successful!");
        window.location.href = "/driveline/pages/homepage.php"; 
      } else {
        alert(data.message || "Login failed");
      }
    } catch (err) {
      console.error("Login error:", err);
      alert("Something went wrong. Please try again.");
    }
  });
});
</script>

</body>
</html>
